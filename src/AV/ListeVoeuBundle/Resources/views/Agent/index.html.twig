{%extends "::base.html.twig" %}
	{% block body %}
	<style>
		tr.clickable-row:hover {
			color:blue; 
		}
	</style>
	<div class="tableau">
		<h3>Liste de tous les agents</h3>

		<div>
			<script>
				jQuery(document).ready(function($) {
					$(".clickable-row").click(function() {
						window.location = $(this).data("href");
					});
				});
			</script>
			<table class="table table-striped">
			<thead>
				<tr><th>Nom</th><th>Prénom</th><th>Grade</th><th>Domicile</th><th>Actions</th></tr>
			</thead>
			<tbody>
			{% for agent in liste_agent %}
				<tr class='clickable-row' data-href='agent/edit/{{ agent.id }}'>
					<td>{{ agent.nom }}</td>
					<td>{{ agent.prenom }}</td>
					<td>{{ agent.grade }}</td>
					<td>{{ agent.domicile.nom }}</td>
					<td>
						<a href="agent/edit/{{ agent.id }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
						<a href="{{ path('sup_agent', {'agent_id':agent.id}) }}"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
					</td>
				</tr>
			{% endfor %}
			<tr>
				<td>< Créer un nouvel agent ></td>
				<td>
					<a href="{{ path('add_agent') }}"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
				</td>
			</tr>
			</tbody>
			</table>
		</div>
	</div>
{% endblock %}
